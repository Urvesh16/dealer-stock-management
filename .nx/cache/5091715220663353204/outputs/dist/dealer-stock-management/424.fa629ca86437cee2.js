"use strict";(self.webpackChunkdealer_stock_management=self.webpackChunkdealer_stock_management||[]).push([[424],{9424:(x,m,d)=>{d.r(m),d.d(m,{MechanicModule:()=>C});var s=d(6814),r=d(95),h=d(4382),g=d(3628),e=d(9468),u=d(8806),p=d(2624);function M(a,l){if(1&a){const n=e.EpF();e.TgZ(0,"li")(1,"div",22)(2,"div")(3,"strong"),e._uU(4,"Name:"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"div")(7,"strong"),e._uU(8,"Email:"),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"div")(11,"strong"),e._uU(12,"Contact Number:"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"div")(15,"strong"),e._uU(16,"Birth Date:"),e.qZA(),e._uU(17),e.ALo(18,"date"),e.qZA(),e.TgZ(19,"div")(20,"strong"),e._uU(21,"Dealer:"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"div")(24,"strong"),e._uU(25,"Created/Update Date:"),e.qZA(),e._uU(26),e.ALo(27,"date"),e.qZA()(),e.TgZ(28,"div",23)(29,"button",24),e.NdJ("click",function(){const o=e.CHM(n).$implicit,c=e.oxw();return e.KtG(c.editMechanic(o))}),e._uU(30,"Edit"),e.qZA(),e.TgZ(31,"button",25),e.NdJ("click",function(){const o=e.CHM(n).$implicit,c=e.oxw();return e.KtG(c.deleteMechanic(o))}),e._uU(32,"Delete"),e.qZA()()()}if(2&a){const n=l.$implicit,i=e.oxw();e.xp6(5),e.hij(" ",n.name," "),e.xp6(4),e.hij(" ",n.email," "),e.xp6(4),e.hij(" ",n.mobileNo," "),e.xp6(4),e.hij(" ",e.xi3(18,6,n.birthDate,"dd.MM.yyyy")," "),e.xp6(5),e.hij(" ",i.getDealerName(n.dealerId)," "),e.xp6(4),e.hij(" ",e.xi3(27,9,n.createdDate,"dd.MM.yyyy HH:mm:ss")," ")}}function b(a,l){if(1&a&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&a){const n=l.$implicit;e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.name)}}const f=function(a,l,n){return{"background-color":a,color:l,cursor:n}},_=[{path:"",component:(()=>{class a{constructor(n,i){this.dealerService=n,this.mechanicService=i,this.mechanics=[],this.mechanic={id:0,dealerId:0,name:"",mobileNo:"",email:"",birthDate:this.getCurrentDate(),createdDate:""},this.isEditing=!1,this.dealers=[]}ngOnInit(){this.loadMechanics(),this.loadDealers()}loadMechanics(){this.mechanicService.getMechanics().subscribe(n=>{this.mechanics=n})}loadDealers(){this.dealerService.getDealers().subscribe(n=>{this.dealers=n})}viewMechanic(n){}editMechanic(n){this.isEditing=!0,this.mechanic={...n}}deleteMechanic(n){confirm("Are you sure you want to delete this mechanic?")&&this.mechanicService.deleteMechanic(n.id).subscribe(()=>{this.loadMechanics()},i=>{})}submitForm(){const n=(0,g.p)(new Date);this.mechanic.createdDate=n,this.isEditing?this.mechanicService.updateMechanic(this.mechanic).subscribe(()=>{this.resetForm(),this.loadMechanics()},i=>{}):this.mechanicService.addMechanic(this.mechanic).subscribe(()=>{this.resetForm(),this.loadMechanics()},i=>{})}resetForm(){this.mechanic={id:0,dealerId:0,name:"",mobileNo:"",email:"",birthDate:this.getCurrentDate(),createdDate:""},this.isEditing=!1}getDealerName(n){const i=this.dealers.find(t=>t.id==n);return i?i.name:"Not Found"}getCurrentDate(){return this.formatDate(new Date)}formatDate(n){const i=String(n.getDate()).padStart(2,"0"),t=String(n.getMonth()+1).padStart(2,"0");return`${n.getFullYear()}-${t}-${i}`}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(u.X),e.Y36(p.p))};static#n=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-mechanic"]],decls:53,vars:15,consts:[[1,"mechanic-container"],[1,"mechanic-list"],[4,"ngFor","ngForOf"],[1,"mechanic-form"],[3,"ngSubmit"],["mechanicForm","ngForm"],[1,"form-group"],[1,"flex"],["for","dealerId"],[1,"required-label"],["id","dealerId","name","dealerId","required","",3,"ngModel","ngModelChange"],["value","0","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","name"],["type","text","id","name","name","name","required","",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],["for","mobileNo"],["type","text","id","mobileNo","name","mobileNo","required","",3,"ngModel","ngModelChange"],["for","birthDate"],["type","date","id","birthDate","name","birthDate","required","",3,"ngModel","ngModelChange"],["type","submit",3,"ngStyle","disabled"],[1,"mechanic-info"],[1,"mechanic-actions"],[3,"click"],[1,"mrt12",3,"click"],[3,"value"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Mechanic Details"),e.qZA(),e.TgZ(3,"div",1)(4,"h3"),e._uU(5,"Mechanic List"),e.qZA(),e.TgZ(6,"ul"),e.YNc(7,M,33,12,"li",2),e.qZA()(),e.TgZ(8,"div",3)(9,"h3"),e._uU(10),e.qZA(),e.TgZ(11,"form",4,5),e.NdJ("ngSubmit",function(){return t.submitForm()}),e.TgZ(13,"div",6)(14,"div",7)(15,"label",8),e._uU(16,"Dealer:"),e.qZA(),e.TgZ(17,"label",9),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"select",10),e.NdJ("ngModelChange",function(c){return t.mechanic.dealerId=c}),e.TgZ(20,"option",11),e._uU(21,"Select a Dealer"),e.qZA(),e.YNc(22,b,2,2,"option",12),e.qZA()(),e.TgZ(23,"div",6)(24,"div",7)(25,"label",13),e._uU(26,"Name:"),e.qZA(),e.TgZ(27,"label",9),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"input",14),e.NdJ("ngModelChange",function(c){return t.mechanic.name=c}),e.qZA()(),e.TgZ(30,"div",6)(31,"div",7)(32,"label",15),e._uU(33,"Email:"),e.qZA(),e.TgZ(34,"label",9),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"input",16),e.NdJ("ngModelChange",function(c){return t.mechanic.email=c}),e.qZA()(),e.TgZ(37,"div",6)(38,"div",7)(39,"label",17),e._uU(40,"Contact Number:"),e.qZA(),e.TgZ(41,"label",9),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"input",18),e.NdJ("ngModelChange",function(c){return t.mechanic.mobileNo=c}),e.qZA()(),e.TgZ(44,"div",6)(45,"div",7)(46,"label",19),e._uU(47,"Birth Date:"),e.qZA(),e.TgZ(48,"label",9),e._uU(49,"*"),e.qZA()(),e.TgZ(50,"input",20),e.NdJ("ngModelChange",function(c){return t.mechanic.birthDate=c}),e.qZA()(),e.TgZ(51,"button",21),e._uU(52),e.qZA()()()()),2&i){const o=e.MAs(12);e.xp6(7),e.Q6J("ngForOf",t.mechanics),e.xp6(3),e.Oqu(t.isEditing?"Edit Mechanic":"Add Mechanic"),e.xp6(9),e.Q6J("ngModel",t.mechanic.dealerId),e.xp6(3),e.Q6J("ngForOf",t.dealers),e.xp6(7),e.Q6J("ngModel",t.mechanic.name),e.xp6(7),e.Q6J("ngModel",t.mechanic.email),e.xp6(7),e.Q6J("ngModel",t.mechanic.mobileNo),e.xp6(7),e.Q6J("ngModel",t.mechanic.birthDate),e.xp6(1),e.Q6J("ngStyle",e.kEZ(11,f,o.form.valid&&t.mechanic.dealerId>0?"#428bca ":"#ddd",o.form.valid&&t.mechanic.dealerId>0?"white":"#666",o.form.valid&&t.mechanic.dealerId>0?"pointer":"not-allowed"))("disabled",!(o.form.valid&&t.mechanic.dealerId>0)),e.xp6(1),e.Oqu(t.isEditing?"Update Mechanic":"Add Mechanic")}},dependencies:[s.sg,s.PC,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.Q7,r.On,r.F,s.uU],styles:[".mechanic-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px}h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.mechanic-list[_ngcontent-%COMP%]{border:1px solid #e1e1e1;padding:10px;border-radius:5px;margin-bottom:20px;background-color:#f9f9f9}.mechanic-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{margin:10px 0;display:flex;justify-content:space-between;align-items:center;padding:10px;background-color:#fff;border:1px solid #dcdcdc;border-radius:5px;box-shadow:0 2px 4px #0000001a}button[_ngcontent-%COMP%]{background-color:#428bca;color:#fff;border:none;border-radius:4px;padding:5px 10px;cursor:pointer;font-size:14px}button[_ngcontent-%COMP%]:hover{background-color:#357ebd}.mechanic-form[_ngcontent-%COMP%]{border:1px solid #e1e1e1;padding:20px;border-radius:5px;background-color:#fff}.mechanic-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin-bottom:20px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #dcdcdc;border-radius:4px;margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{background-color:#428bca;color:#fff;border:none;border-radius:4px;padding:10px 20px;cursor:pointer;font-size:16px}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#357ebd}"]})}return a})()}];let Z=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275mod=e.oAB({type:a});static#t=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(_),h.Bz]})}return a})(),C=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#n=this.\u0275mod=e.oAB({type:a});static#t=this.\u0275inj=e.cJS({imports:[s.ez,r.u5,Z]})}return a})()}}]);