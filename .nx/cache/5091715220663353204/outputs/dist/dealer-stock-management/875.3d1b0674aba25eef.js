"use strict";(self.webpackChunkdealer_stock_management=self.webpackChunkdealer_stock_management||[]).push([[875],{4875:(v,c,d)=>{d.r(c),d.d(c,{PartModule:()=>M});var l=d(6814),i=d(95),u=d(4382),g=d(3628),t=d(9468),m=d(8806),f=d(965),h=d(87);function b(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"li")(1,"div",20)(2,"div")(3,"strong"),t._uU(4,"Name:"),t.qZA(),t._uU(5),t.qZA(),t.TgZ(6,"div")(7,"strong"),t._uU(8,"Description:"),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"div")(11,"strong"),t._uU(12,"Stock Quantity:"),t.qZA(),t._uU(13),t.ALo(14,"decimalSpace"),t.ALo(15,"number"),t.qZA(),t.TgZ(16,"div")(17,"strong"),t._uU(18,"Created/Update Date:"),t.qZA(),t._uU(19),t.ALo(20,"date"),t.qZA(),t.TgZ(21,"div")(22,"strong"),t._uU(23,"Dealer:"),t.qZA(),t._uU(24),t.qZA()(),t.TgZ(25,"div",21)(26,"button",22),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editPart(a))}),t._uU(27,"Edit"),t.qZA(),t.TgZ(28,"button",23),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.deletePart(a))}),t._uU(29,"Delete"),t.qZA()()()}if(2&r){const e=p.$implicit,o=t.oxw();t.xp6(5),t.hij(" ",e.name," "),t.xp6(4),t.hij(" ",e.description," "),t.xp6(4),t.hij(" ",t.lcZ(14,5,t.lcZ(15,7,e.stockQuantity))," "),t.xp6(6),t.hij(" ",t.xi3(20,9,e.createdDate,"dd.MM.yyyy HH:mm:ss")," "),t.xp6(5),t.hij(" ",o.getDealerName(e.dealerId)," ")}}function _(r,p){if(1&r&&(t.TgZ(0,"option",24),t._uU(1),t.qZA()),2&r){const e=p.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}const Z=function(r,p,e){return{"background-color":r,color:p,cursor:e}},C=[{path:"",component:(()=>{class r{constructor(e,o){this.dealerService=e,this.partService=o,this.parts=[],this.part={id:0,dealerId:0,name:"",description:"",stockQuantity:0,createdDate:""},this.isEditing=!1,this.dealers=[]}ngOnInit(){this.loadParts(),this.loadDealers()}loadParts(){this.partService.getParts().subscribe(e=>{this.parts=e})}loadDealers(){this.dealerService.getDealers().subscribe(e=>{this.dealers=e})}editPart(e){this.isEditing=!0,this.part={...e}}deletePart(e){confirm("Are you sure you want to delete this part?")&&this.partService.deletePart(e.id).subscribe(()=>{this.loadParts()},o=>{})}submitForm(){const e=(0,g.p)(new Date);this.part.createdDate=e,this.isEditing?this.partService.updatePart(this.part).subscribe(()=>{this.resetForm(),this.loadParts()},o=>{}):this.partService.addPart(this.part).subscribe(()=>{this.resetForm(),this.loadParts()},o=>{})}resetForm(){this.part={id:0,dealerId:0,name:"",description:"",stockQuantity:0,createdDate:""},this.isEditing=!1}getDealerName(e){const o=this.dealers.find(n=>n.id==e);return o?o.name:"Not Found"}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(m.X),t.Y36(f.H))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-part"]],decls:46,vars:14,consts:[[1,"part-container"],[1,"part-list"],[4,"ngFor","ngForOf"],[1,"part-form"],[3,"ngSubmit"],["partForm","ngForm"],[1,"form-group"],[1,"flex"],["for","dealerId"],[1,"required-label"],["id","dealerId","name","dealerId","required","",3,"ngModel","ngModelChange"],["value","0","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","name"],["type","text","id","name","name","name","required","",3,"ngModel","ngModelChange"],["for","description"],["id","description","name","description","required","",3,"ngModel","ngModelChange"],["for","stockQuantity"],["type","number","id","stockQuantity","name","stockQuantity","required","",3,"ngModel","ngModelChange"],["type","submit",3,"ngStyle","disabled"],[1,"part-info"],[1,"part-actions"],[3,"click"],[1,"mrt12",3,"click"],[3,"value"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Part Details"),t.qZA(),t.TgZ(3,"div",1)(4,"h3"),t._uU(5,"Part List"),t.qZA(),t.TgZ(6,"ul"),t.YNc(7,b,30,12,"li",2),t.qZA()(),t.TgZ(8,"div",3)(9,"h3"),t._uU(10),t.qZA(),t.TgZ(11,"form",4,5),t.NdJ("ngSubmit",function(){return n.submitForm()}),t.TgZ(13,"div",6)(14,"div",7)(15,"label",8),t._uU(16,"Dealer:"),t.qZA(),t.TgZ(17,"label",9),t._uU(18,"*"),t.qZA()(),t.TgZ(19,"select",10),t.NdJ("ngModelChange",function(s){return n.part.dealerId=s}),t.TgZ(20,"option",11),t._uU(21,"Select a Dealer"),t.qZA(),t.YNc(22,_,2,2,"option",12),t.qZA()(),t.TgZ(23,"div",6)(24,"div",7)(25,"label",13),t._uU(26,"Name:"),t.qZA(),t.TgZ(27,"label",9),t._uU(28,"*"),t.qZA()(),t.TgZ(29,"input",14),t.NdJ("ngModelChange",function(s){return n.part.name=s}),t.qZA()(),t.TgZ(30,"div",6)(31,"div",7)(32,"label",15),t._uU(33,"Description:"),t.qZA(),t.TgZ(34,"label",9),t._uU(35,"*"),t.qZA()(),t.TgZ(36,"textarea",16),t.NdJ("ngModelChange",function(s){return n.part.description=s}),t.qZA()(),t.TgZ(37,"div",6)(38,"div",7)(39,"label",17),t._uU(40,"Stock Quantity:"),t.qZA(),t.TgZ(41,"label",9),t._uU(42,"*"),t.qZA()(),t.TgZ(43,"input",18),t.NdJ("ngModelChange",function(s){return n.part.stockQuantity=s}),t.qZA()(),t.TgZ(44,"button",19),t._uU(45),t.qZA()()()()),2&o){const a=t.MAs(12);t.xp6(7),t.Q6J("ngForOf",n.parts),t.xp6(3),t.Oqu(n.isEditing?"Edit Part":"Add Part"),t.xp6(9),t.Q6J("ngModel",n.part.dealerId),t.xp6(3),t.Q6J("ngForOf",n.dealers),t.xp6(7),t.Q6J("ngModel",n.part.name),t.xp6(7),t.Q6J("ngModel",n.part.description),t.xp6(7),t.Q6J("ngModel",n.part.stockQuantity),t.xp6(1),t.Q6J("ngStyle",t.kEZ(10,Z,a.form.valid&&n.part.dealerId>0&&n.part.stockQuantity>0?"#428bca ":"#ddd",a.form.valid&&n.part.dealerId>0&&n.part.stockQuantity>0?"white":"#666",a.form.valid&&n.part.dealerId>0&&n.part.stockQuantity>0?"pointer":"not-allowed"))("disabled",!(a.form.valid&&n.part.stockQuantity>0)),t.xp6(1),t.Oqu(n.isEditing?"Update Part":"Add Part")}},dependencies:[l.sg,l.PC,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.Q7,i.On,i.F,l.JJ,l.uU,h.m],styles:[".part-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px}h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.part-list[_ngcontent-%COMP%]{border:1px solid #e1e1e1;padding:10px;border-radius:5px;margin-bottom:20px;background-color:#f9f9f9}.part-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{margin:10px 0;display:flex;justify-content:space-between;align-items:center;padding:10px;background-color:#fff;border:1px solid #dcdcdc;border-radius:5px;box-shadow:0 2px 4px #0000001a}button[_ngcontent-%COMP%]{background-color:#428bca;color:#fff;border:none;border-radius:4px;padding:5px 10px;cursor:pointer;font-size:14px}button[_ngcontent-%COMP%]:hover{background-color:#357ebd}.part-form[_ngcontent-%COMP%]{border:1px solid #e1e1e1;padding:20px;border-radius:5px;background-color:#fff}.part-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin-bottom:20px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #dcdcdc;border-radius:4px;margin-bottom:10px}button[type=submit][_ngcontent-%COMP%]{background-color:#428bca;color:#fff;border:none;border-radius:4px;padding:10px 20px;cursor:pointer;font-size:16px}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#357ebd}"]})}return r})()}];let P=(()=>{class r{static#t=this.\u0275fac=function(o){return new(o||r)};static#e=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(C),u.Bz]})}return r})();var x=d(1383);let M=(()=>{class r{static#t=this.\u0275fac=function(o){return new(o||r)};static#e=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[l.ez,i.u5,P,x.m]})}return r})()}}]);